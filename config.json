{"version":"1.0.0","connectors":[{"name":"WebConnector","additionalData":{"port":4040}},{"name":"WebSocketConnector","additionalData":{"port":null,"usingServer":true,"allowedOrigins":["*"]}}],"namespaces":[{"name":"user","middleware":[],"actions":[{"name":"login","description":"Logs a user into an account","middleware":[{"name":"Throttle","description":"Makes sure a request can only be executed a certain amount of times in series.","params":{"schema":{"type":"object","mode":"LOOSE","className":"NoParams","children":{}},"name":"NoParams"},"errors":[{"errorCode":"requestThrottled","description":"The request wasn't executed. Request throttled."}]}],"possibleErrors":[{"errorCode":"loginLocked","description":"Stop spamming"},{"errorCode":"invalidLogin","description":"Username or password is wrong"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"Login","children":{"username":{"type":"string","minLength":3,"maxLength":32},"passwordInput":{"type":"string","minLength":5}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"EmptyResult","children":{}}}},{"name":"getAccount","description":"Get the account information of the current user","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"GetAccountParamsPopulated","children":{"user":{"type":"object","mode":"LOOSE","className":"Db","children":{"id":{"type":"string","length":36},"fullName":{"type":"string","minLength":2},"username":{"type":"string","minLength":3,"maxLength":32},"password":{"type":"string","length":1024},"salt":{"type":"string","length":40},"email":{"type":"string","trim":true},"avatar":{"type":"string","trim":true},"bio":{"type":"string","maxLength":2048,"trim":true},"resetPasswordToken":{"type":"string"},"resetPasswordExpires":{"type":"number"},"activationToken":{"type":"string"},"activated":{"type":"boolean"},"registered":{"type":"number"},"provider":{"type":"string"},"providerId":{"type":"string"},"lastSeen":{"type":"number"},"groups":{"type":"array","mode":"uniform","children":{"type":"string"}}}}}}},"result":{"schema":{"type":"object","mode":"SHORTEN","className":"Profile","children":{"id":{"type":"string","length":36},"fullName":{"type":"string","minLength":2},"username":{"type":"string","minLength":3,"maxLength":32},"email":{"type":"string","trim":true},"avatar":{"type":"string","trim":true},"bio":{"type":"string","maxLength":2048,"trim":true},"registered":{"type":"number"},"lastSeen":{"type":"number"},"groups":{"type":"array","mode":"uniform","children":{"type":"string"}}}}}},{"name":"register","description":"Creates a new user object in database","middleware":[{"name":"Throttle","description":"Makes sure a request can only be executed a certain amount of times in series.","params":{"schema":{"type":"object","mode":"LOOSE","className":"NoParams","children":{}},"name":"NoParams"},"errors":[{"errorCode":"requestThrottled","description":"The request wasn't executed. Request throttled."}]}],"possibleErrors":[{"errorCode":"usernameTaken","description":"The username you're trying to use is already taken"},{"errorCode":"emailTaken","description":"The email you're trying to use is already used for another account"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"Register","children":{"fullName":{"type":"string","minLength":2},"username":{"type":"string","minLength":3,"maxLength":32},"email":{"type":"string","trim":true},"passwordInput":{"type":"string","minLength":5}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"NoResult","children":{}}}},{"name":"search","description":"Search for a user in the database","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"SearchParams","children":{"query":{"type":"string","trim":true}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"SearchResult","children":{"items":{"type":"array","mode":"uniform","children":{"type":"object","mode":"SHORTEN","className":"Public","children":{"id":{"type":"string","length":36},"fullName":{"type":"string","minLength":2},"username":{"type":"string","minLength":3,"maxLength":32},"avatar":{"type":"string","trim":true},"bio":{"type":"string","maxLength":2048,"trim":true}}}}}}}},{"name":"registerGoogle","description":"Logs in via Google or Registers via Google.","middleware":[{"name":"Throttle","description":"Makes sure a request can only be executed a certain amount of times in series.","params":{"schema":{"type":"object","mode":"LOOSE","className":"NoParams","children":{}},"name":"NoParams"},"errors":[{"errorCode":"requestThrottled","description":"The request wasn't executed. Request throttled."}]}],"possibleErrors":[{"errorCode":"invalidToken","description":"The token passed is invalid"},{"errorCode":"usernameTaken","description":"The username chosen is already taken"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"RegisterGoogleParams","children":{"username":{"type":"string","minLength":2,"maxLength":32},"password":{"type":"string","minLength":5}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"NoResult","children":{}}}},{"name":"getProfile","description":"Get the public information of the user","middleware":[{"name":"autoPopulate","description":"Populates an item from the database","params":{"schema":{"type":"object","mode":"LOOSE","className":"CheckKey","children":{"user":{"type":"string","length":36}}},"name":"CheckKey"},"errors":[{"errorCode":"notFound","description":"The property user could not be found in the database"},{"errorCode":"notFoundItem","description":"The property user contains an item that could not be found in the database"}]}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"GetProfileParamsPopulated","children":{"user":{"type":"object","mode":"LOOSE","className":"Db","children":{"id":{"type":"string","length":36},"fullName":{"type":"string","minLength":2},"username":{"type":"string","minLength":3,"maxLength":32},"password":{"type":"string","length":1024},"salt":{"type":"string","length":40},"email":{"type":"string","trim":true},"avatar":{"type":"string","trim":true},"bio":{"type":"string","maxLength":2048,"trim":true},"resetPasswordToken":{"type":"string"},"resetPasswordExpires":{"type":"number"},"activationToken":{"type":"string"},"activated":{"type":"boolean"},"registered":{"type":"number"},"provider":{"type":"string"},"providerId":{"type":"string"},"lastSeen":{"type":"number"},"groups":{"type":"array","mode":"uniform","children":{"type":"string"}}}}}}},"result":{"schema":{"type":"object","mode":"SHORTEN","className":"Public","children":{"id":{"type":"string","length":36},"fullName":{"type":"string","minLength":2},"username":{"type":"string","minLength":3,"maxLength":32},"avatar":{"type":"string","trim":true},"bio":{"type":"string","maxLength":2048,"trim":true}}}}},{"name":"authenticateGoogle","description":"Logs in via Google or Stores data for registration via Google.","middleware":[{"name":"Throttle","description":"Makes sure a request can only be executed a certain amount of times in series.","params":{"schema":{"type":"object","mode":"LOOSE","className":"NoParams","children":{}},"name":"NoParams"},"errors":[{"errorCode":"requestThrottled","description":"The request wasn't executed. Request throttled."}]}],"possibleErrors":[{"errorCode":"invalidToken","description":"The token passed is invalid"},{"errorCode":"notExistent","description":"No user registered with this Google-ID. Info was stored."}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateGoogleParams","children":{"token":{"type":"string"}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"NoResult","children":{}}}},{"name":"checkUsername","description":"Checks if a username is taken","middleware":[],"possibleErrors":[{"errorCode":"usernameTaken","description":"The username you chose is already taken"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"CheckUsernameParams","children":{"username":{"type":"string","minLength":2,"lowercase":true}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"CheckUsernameResult","children":{"isTaken":{"type":"boolean"}}}}}]},{"name":"client","middleware":[],"actions":[]},{"name":"trackResults","middleware":[],"actions":[]},{"name":"testScenarios","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"actions":[{"name":"create","description":"Creates a new item in the database","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"Create","children":{"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"IdContainer","children":{"id":{"type":"string","length":36}}}}},{"name":"get","description":"Get an item from the database","middleware":[],"possibleErrors":[{"errorCode":"notFound","description":"The item specified was not found"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"IdContainer","children":{"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"SHORTEN","className":"TestScenario","children":{"id":{"type":"string","length":36},"ownerId":{"type":"string","length":36},"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}}}},{"name":"getAlltestScenarios","description":"Get all items from the database","middleware":[],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"NoParams","children":{}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"ResultEnvelope","children":{"items":{"type":"array","mode":"uniform","children":{"type":"object","className":"TestScenario","children":{"id":{"type":"string","length":36},"ownerId":{"type":"string","length":36},"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}}}}}}},{"name":"streamSingle","description":"Stream an item from the DB","middleware":[],"possibleErrors":[{"errorCode":"valueRemoved","description":"The document was removed"}],"supportsUpdates":true,"params":{"schema":{"type":"object","mode":"LOOSE","className":"StreamSingleParams","children":{"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"SHORTEN","className":"TestScenario","children":{"id":{"type":"string","length":36},"ownerId":{"type":"string","length":36},"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}}}},{"name":"streamAll","description":"Get all items from the database","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[],"supportsUpdates":true,"params":{"schema":{"type":"object","mode":"LOOSE","className":"NoParams","children":{}}},"result":{"schema":{"type":"object","className":"StreamResult","children":{"type":{"type":"string"},"id":{"type":"string","length":36},"value":{"type":"object","mode":"LOOSE","className":"TestScenario","children":{"id":{"type":"string","length":36},"ownerId":{"type":"string","length":36},"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}},"values":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"TestScenario","children":{"id":{"type":"string","length":36},"ownerId":{"type":"string","length":36},"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}}}}}}},{"name":"update","description":"Update an item in the database","middleware":[{"name":"CheckUsers","description":"Make sure the users passed exist","params":{"schema":{"type":"object","mode":"LOOSE","className":"CheckUsersParams","children":{"item":{"type":"object","mode":"LOOSE","className":"Update","children":{"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}}}},"name":"CheckUsersParams"},"errors":[{"errorCode":"notFound","description":"A userId passed to this action doesn't exist"}]}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"UpdateParams","children":{"item":{"type":"object","className":"Update","children":{"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}},"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"EmptyResult","children":{}}}},{"name":"getOpenScenarios","description":"Get a list of scenarios the user could join","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"GetOpenScenariosParamsPopulated","children":{"userId":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"GetOpenScenariosResult","children":{"openScenarios":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"TestScenario","children":{"id":{"type":"string","length":36},"ownerId":{"type":"string","length":36},"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}}}}}}},{"name":"delete","description":"Deletes a testScenario","middleware":[],"possibleErrors":[{"errorCode":"notFound","description":"The specified item was not found"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"IdContainer","children":{"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"EmptyResult","children":{}}}}]},{"name":"main","middleware":[],"actions":[{"name":"about","description":"Used to retrieve SSID by WS Clients","middleware":[],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"NoParams","children":{}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"AboutResult","children":{"time":{"type":"number"}}}}}]},{"name":"scenarioSessions","middleware":[],"actions":[{"name":"generateSession","description":"creates a new Session","middleware":[{"name":"autoPopulate","description":"Populates an item from the database","params":{"schema":{"type":"object","mode":"LOOSE","className":"CheckKey","children":{"scenarioId":{"type":"string","length":36}}},"name":"CheckKey"},"errors":[{"errorCode":"notFound","description":"The property scenarioId could not be found in the database"},{"errorCode":"notFoundItem","description":"The property scenarioId contains an item that could not be found in the database"}]},{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"GenerateSessionParamsPopulated","children":{"userId":{"type":"string","length":36},"scenario":{"type":"object","mode":"LOOSE","className":"Db","children":{"id":{"type":"string","length":36},"ownerId":{"type":"string","length":36},"title":{"type":"string","maxLength":32},"description":{"type":"string","maxLength":32},"isPrivate":{"type":"boolean"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"invitedProbands":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"tracks":{"type":"array","mode":"uniform","children":{"type":"string","length":36}}}}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"GenerateSessionResult","children":{"id":{"type":"string","length":36}}}}},{"name":"listSessions","description":"Get all session the current user is participating in","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"ListSessionsParamsPopulated","children":{"userId":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"ListSessionsResult","children":{"items":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"ScenarioSession","children":{"id":{"type":"string","length":36},"scenario":{"type":"string","length":36},"title":{"type":"string"},"description":{"type":"string"},"user":{"type":"string","length":36},"created":{"type":"number"},"lastUpdated":{"type":"number"},"tracks":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"ResultTrack","children":{"trackId":{"type":"string","length":36},"played":{"type":"boolean"},"offset":{"type":"number"}}}}}}}}}}},{"name":"stream","description":"Stream an item from the DB","middleware":[],"possibleErrors":[{"errorCode":"valueRemoved","description":"The document was removed"}],"supportsUpdates":true,"params":{"schema":{"type":"object","mode":"LOOSE","className":"StreamSingleParams","children":{"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"ScenarioSession","children":{"id":{"type":"string","length":36},"scenario":{"type":"string","length":36},"title":{"type":"string"},"description":{"type":"string"},"user":{"type":"string","length":36},"created":{"type":"number"},"lastUpdated":{"type":"number"},"tracks":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"ResultTrack","children":{"trackId":{"type":"string","length":36},"played":{"type":"boolean"},"offset":{"type":"number"}}}}}}}},{"name":"saveOffset","description":"Store the playback offset of a track","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[{"errorCode":"notFound","description":"The requested session/track was not foudn"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"SaveOffsetParams","children":{"id":{"type":"string","length":36},"trackId":{"type":"string","length":36},"offset":{"type":"number"}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"NoResult","children":{}}}},{"name":"storeButtonPress","description":"Stores a button press with trackId, scenario, userId and offset in the database","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[{"errorCode":"unknownTrack","description":"The associated track does not exist"},{"errorCode":"unknownSession","description":"The session was not found"},{"errorCode":"invalidKey","description":"The key passed does not exist"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"ButtonPressPopulated","children":{"trackId":{"type":"string","length":36},"session":{"type":"string","length":36},"key":{"type":"string"},"offset":{"type":"number"},"userId":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"EmptyResult","children":{}}}}]},{"name":"tracks","middleware":[],"actions":[{"name":"create","description":"Saves the new track to the database","middleware":[{"name":"authenticate","description":"Authenticate a user. Can also provide the user as parameter to the action. checking the DB for the user is optional","errors":[{"errorCode":"notLoggedIn","description":"You do not have access to this action."},{"errorCode":"notEnoughPermissions","description":"The user doesnt have the required groups to perform this action"}],"params":{"schema":{"type":"object","mode":"LOOSE","className":"AuthenticateParams","children":{}},"name":"AuthenticateParams"}}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"Create","children":{"userId":{"type":"string","length":36},"title":{"type":"string","minLength":3},"description":{"type":"string"},"file":{"type":"object","mode":"LOOSE","className":"File","children":{"fieldname":{"type":"string"},"originalname":{"type":"string"},"encoding":{"type":"string"},"mimetype":{"type":"string"},"destination":{"type":"string"},"filename":{"type":"string"},"path":{"type":"string"},"size":{"type":"number"}}}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"UploadResult","children":{"newId":{"type":"string","length":36}}}}},{"name":"streamSingle","description":"Stream an item from the DB","middleware":[],"possibleErrors":[{"errorCode":"valueRemoved","description":"The document was removed"}],"supportsUpdates":true,"params":{"schema":{"type":"object","mode":"LOOSE","className":"StreamSingleParams","children":{"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"SHORTEN","className":"Track","children":{"id":{"type":"string","length":36},"title":{"type":"string","minLength":3},"description":{"type":"string"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"ownerId":{"type":"string"},"created":{"type":"number"},"buttons":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"Button","children":{"key":{"type":"string"},"label":{"type":"string"},"enable":{"type":"number"},"disable":{"type":"number"},"skipOnClick":{"type":"boolean"}}}}}}}},{"name":"get","description":"Get an item from the database","middleware":[],"possibleErrors":[{"errorCode":"notFound","description":"The item specified was not found"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"IdContainer","children":{"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"SHORTEN","className":"Track","children":{"id":{"type":"string","length":36},"title":{"type":"string","minLength":3},"description":{"type":"string"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"ownerId":{"type":"string"},"created":{"type":"number"},"buttons":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"Button","children":{"key":{"type":"string"},"label":{"type":"string"},"enable":{"type":"number"},"disable":{"type":"number"},"skipOnClick":{"type":"boolean"}}}}}}}},{"name":"file","description":"Obtain a download token for a file","middleware":[{"name":"autoPopulate","description":"Populates an item from the database","params":{"schema":{"type":"object","mode":"LOOSE","className":"CheckKey","children":{"track":{"type":"string","length":36}}},"name":"CheckKey"},"errors":[{"errorCode":"notFound","description":"The property track could not be found in the database"},{"errorCode":"notFoundItem","description":"The property track contains an item that could not be found in the database"}]}],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"GetFileParams","children":{"track":{"type":"object","mode":"LOOSE","className":"Db","children":{"id":{"type":"string","length":36},"title":{"type":"string","minLength":3},"description":{"type":"string"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"ownerId":{"type":"string"},"filePath":{"type":"string"},"created":{"type":"number"},"buttons":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"Button","children":{"key":{"type":"string"},"label":{"type":"string"},"enable":{"type":"number"},"disable":{"type":"number"},"skipOnClick":{"type":"boolean"}}}}}}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"FilePath","children":{"path":{"type":"string"}}}}},{"name":"streamAll","description":"Get all items from the database","middleware":[],"possibleErrors":[],"supportsUpdates":true,"params":{"schema":{"type":"object","mode":"LOOSE","className":"NoParams","children":{}}},"result":{"schema":{"type":"object","className":"StreamResult","children":{"type":{"type":"string"},"id":{"type":"string","length":36},"value":{"type":"object","mode":"SHORTEN","className":"Track","children":{"id":{"type":"string","length":36},"title":{"type":"string","minLength":3},"description":{"type":"string"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"ownerId":{"type":"string"},"created":{"type":"number"},"buttons":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"Button","children":{"key":{"type":"string"},"label":{"type":"string"},"enable":{"type":"number"},"disable":{"type":"number"},"skipOnClick":{"type":"boolean"}}}}}},"values":{"type":"array","mode":"uniform","children":{"type":"object","mode":"SHORTEN","className":"Track","children":{"id":{"type":"string","length":36},"title":{"type":"string","minLength":3},"description":{"type":"string"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"ownerId":{"type":"string"},"created":{"type":"number"},"buttons":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"Button","children":{"key":{"type":"string"},"label":{"type":"string"},"enable":{"type":"number"},"disable":{"type":"number"},"skipOnClick":{"type":"boolean"}}}}}}}}}}},{"name":"delete","description":"Deletes a track","middleware":[],"possibleErrors":[{"errorCode":"notFound","description":"The specified item was not found"}],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"IdContainer","children":{"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"EmptyResult","children":{}}}},{"name":"update","description":"Update an item in the database","middleware":[],"possibleErrors":[],"supportsUpdates":false,"params":{"schema":{"type":"object","mode":"LOOSE","className":"UpdateParams","children":{"item":{"type":"object","className":"Update","children":{"title":{"type":"string","minLength":3},"description":{"type":"string"},"sharedWith":{"type":"array","mode":"uniform","children":{"type":"string","length":36}},"buttons":{"type":"array","mode":"uniform","children":{"type":"object","mode":"LOOSE","className":"Button","children":{"key":{"type":"string"},"label":{"type":"string"},"enable":{"type":"number"},"disable":{"type":"number"},"skipOnClick":{"type":"boolean"}}}}}},"id":{"type":"string","length":36}}}},"result":{"schema":{"type":"object","mode":"LOOSE","className":"EmptyResult","children":{}}}}]}]}